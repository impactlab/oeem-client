{% extends 'dashboard/base.html' %}

{% load staticfiles %}

{% load humanize %}

{% block title %}Project Listing{% endblock %}

{% block content %}

  <div class="container-fluid project-block-summary">

    <div class="row-fluid clearfix">
      <div class="col-xs-12 no-padding">
        <div class="row-fluid" id="project-block-header">
          <div class="logo">
            <a href="/">
              <img src="{% static logo %}">
            </a>
          </div>
          <div id="project-block-title">
            <h2 class="title">All Projects</h2>
          </div>
        </div>
      </div>
    </div>

    <div class="row-fluid" id="energy-pane-menu">
      <div class="col-xs-12">
        <div>
          {% for savings_data in all_savings_data %}
          <a href="javascript://" class="energy-pane-select"
            target-pane="#pane-{{ savings_data.energy_type_slug }}, #pane-summary-{{ savings_data.energy_type_slug }}">
            <i class="fa {{ savings_data.icon }} fa-lg"></i> {{ savings_data.energy_type }}
          </a>
          {% endfor %}
        </div>
      </div>
    </div>

  </div>

  {% for savings_data in all_savings_data %}
    <div class="energy-pane" id="pane-{{ savings_data.energy_type_slug }}">
      {% include "partials/utility_pane_table.html" %}
    </div>
  {% endfor %}

{% endblock %}

{% block extrajs %}
<script type="text/javascript">

$(document).ready(function () {

  // ********* PAGE NAVIGATION ************
  // show first energy type on page load
  $('.energy-pane').hide()
  $('.energy-pane').first().show()
  $('.energy-detail-pane').hide()
  $('.energy-detail-pane').first().show()
  $('.energy-pane-select').first().addClass('selected')

  // switch energy panes from menus
  $('.energy-pane-select').on('click', function(e){
    $('.energy-pane').hide()
    $('.energy-detail-pane').hide()
    $(this.getAttribute("target-pane")).show()

    $('.energy-pane-select').removeClass('selected')
    $(this).addClass('selected')
  });

});
</script>


{% endblock %}

