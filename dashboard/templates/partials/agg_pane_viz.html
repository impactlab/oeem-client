{% load humanize %}
<div class="container-fluid energy-summary">
	<div class="row-fluid">
    <div class="col-sm-4">

      <div class="row-fluid">
        <div class="col-xs-12">
          <h6 class="no-pad-bottom text-muted">QUICK STATS &mdash; ALL ENERGY TYPES</h6>
        </div>
      </div>
      <div class="row-fluid">
        <div id="agg-savings">

          {% if agg_savings.annual_usage %}

          <div class="col-xs-4">
            <h6 class="no-pad-bottom">
              Annual Usage
              <span class="muted">kWh/yr</span>
            </h6>
            <div id="usage-bar">
            </div>
            <script type="text/javascript">

              $(document).ready(function () {

                BarHelper.create('usage-bar', {{ agg_savings.annual_usage.baseline }}, {{agg_savings.annual_usage.reporting}})
              });

            </script>
          </div>

          <div class="col-xs-5">
            <h6 class="no-pad-bottom">
              Annual Savings
              <span class="muted">kWh/yr</span>
            </h6>
            <h2 id="total-annual-savings">
              {{ agg_savings.annual | floatformat:"0" | intcomma }}
              {% if agg_savings.annual_usage.percent_savings >= 0 %}
                <span class="badge-pct badge-success">{{agg_savings.annual_usage.percent_savings}}%</span>
              {% else %}
                <span class="badge-pct badge-danger">{{agg_savings.annual_usage.percent_savings}}%</span>
              {% endif %}
            </h2>
          </div>
      <!--     <div class="col-xs-3">
            <p class="h6 no-pad-top no-pad-bottom" id="gross-usage">
              <span class="muted">GROSS BASELINE USAGE</span><br/>
              [number here] <br/>
              <span class="muted">GROSS REPORTED USAGE</span><br/>
              [number here] <br/>
              <span class="muted">GROSS SAVINGS</span><br/>
              {{ agg_savings.gross }} kWh<br/>
            </h6>
          </div> -->

          {% else %}

          <div class="col-xs-5">
            <h5 class="no-pad-bottom">Gross Savings</h5>
            <h2 id="total-gross-savings">{{ agg_savings.gross | floatformat:"0" | intcomma }}
            <span class="units">{{ agg_savings.unit }}</span></h2>
          </div>

          <div class="col-xs-7">
            <h5 class="no-pad-bottom">Annual Savings</h5>
            <h2 id="total-annual-savings">{{ agg_savings.annual | floatformat:"0" | intcomma }}
            <span class="units">{{ agg_savings.unit }}/yr</span></h2>
          </div>
          {% endif %}
        </div>
      </div>

    </div>
    <div class="col-sm-12">

      <div id="agg-gross-savings">
      </div>

    </div>
  </div>

  <script type="text/javascript">

  $(document).ready(function () {

    // var usage_data = {{ savings_data.usage_data | safe }}

    // SavingsTimeseriesHelper.create(
    //   '{{ savings_data.energy_type_slug }}-gross-savings',
    //   '{{ savings_data.energy_type }} Monthly Gross Savings',
    //   '{{ savings_data.unit }}',
    //   usage_data['xlabels'][usage_data['actual_start_idx']],
    //   usage_data['actual_start_idx'],
    //   usage_data['series_baseline'],
    //   usage_data['series_actual'],
    //   usage_data['series_n_projects']);
    // });

  </script>
</div>


<div class="divider"></div>
<!-- 
<div class="container-fluid">
	<div class="row-fluid">

    {% if savings_data.gross_savings_hist_data %}
    <div class="col-sm-6">
      <div id="{{ savings_data.energy_type_slug }}-gross-savings-histogram">
      	Histogram
      </div>
    </div>

    <script type="text/javascript">

        $(document).ready(function () {

          var hist_data = {{ savings_data.gross_savings_hist_data | safe }}

          HistHelper.create("{{ savings_data.energy_type_slug }}-gross-savings-histogram",
            "Project Savings - Gross",
            "Number of Projects",
            "Gross Project Savings ({{ savings_data.unit }})",
            hist_data.xlabels,
            [hist_data.dataseries]
          );

      });

    </script>
    {% endif %}

    {% if savings_data.annual_savings_hist_data %}
    <div class="col-sm-6">
      <div id="{{ savings_data.energy_type_slug }}-annual-savings-histogram">
      	Histogram
      </div>
    </div>

    <script type="text/javascript">

        $(document).ready(function () {

          var hist_data = {{ savings_data.annual_savings_hist_data | safe }}

          HistHelper.create("{{ savings_data.energy_type_slug }}-annual-savings-histogram",
            "Project Savings - Annual",
            "Number of Projects",
            "Annualized Project Savings ({{ savings_data.unit }})",
            hist_data.xlabels,
            [hist_data.dataseries]
          );

      });

    </script>
    {% endif %}

  </div>


</div> -->