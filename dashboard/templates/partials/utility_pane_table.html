{% load humanize %}

<div class="container-fluid energy-table">
	<div class="row-fluid">
    <div class="col-sm-12">

      <h4>Projects</h4>

      <div id="{{ savings_data.energy_type_slug }}-table">

        <table class="table">
          <tr>
            {% for h, align, unit in savings_data.project_table_data.table_header %}
              <th {%if align%}class="align-{{align}}"{%endif%}>
                {{ h }}
                {% if unit %}
                  <span class="muted">{{ unit }}</span>
                {% endif %}
              </th>
            {% endfor %}
          </tr>
          {% for row in savings_data.project_table_data.table_body %}
            <tr>

              {% for c in row %}
                {% if c.cell_type == 'link' %}
                  <td>
                    <a href="/dashboard/project/{{ c.cell_data.pk }}" title="View project detail">{{ c.cell_data.id }}</a>
                  </td>
                {% elif c.cell_type == 'boolean' %}
                  {% if c.cell_data %}
                    <td class="align-center text-success">
                      <i class="fa fa-check fa-fw fa-lg"></i>
                    </td>
                  {% else %}
                    <td class="align-center text-danger">
                      <i class="fa fa-exclamation-circle fa-fw fa-lg"></i>
                    </td>
                  {% endif %}
                {% elif c.cell_type == 'float_threshold' %}
                  {% if c.cell_data.is_invalid %}
                    <td class="text-danger align-right">{{ c.cell_data.val | floatformat:2 }}</td>
                  {% else %}
                    <td class="text-success align-right">{{ c.cell_data.val | floatformat:2 }}</td>
                  {% endif %}
                {% elif c.cell_type == 'float' %}
                    <td class="align-right">{{ c.cell_data.val | floatformat:2 }}</td>
                {% elif c.cell_type == 'int' %}
                    <td class="align-right">{{ c.cell_data.val | floatformat:0 | intcomma }}</td>
                {% elif c.cell_type == 'percent' %}
                    <td class="align-right">{{ c.cell_data.val }}</td>
                {% endif %}

              {% endfor %}

            </tr>
          {% endfor %}

        </table>
      </div>

    </div>
  </div>

  <script type="text/javascript">

  $(document).ready(function () {
  });

  </script>
</div>
